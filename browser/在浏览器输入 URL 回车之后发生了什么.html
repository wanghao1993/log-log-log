<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>在浏览器输入 URL 回车之后发生了什么 | log log log</title>
    <meta name="description" content="一份涵盖大部分前端程序员所需要掌握的核心知识">
    
    
    <link rel="preload" href="/log-log-log/assets/css/0.styles.ad851c91.css" as="style"><link rel="preload" href="/log-log-log/assets/js/app.d06a2ac5.js" as="script"><link rel="preload" href="/log-log-log/assets/js/2.e2281415.js" as="script"><link rel="preload" href="/log-log-log/assets/js/36.94e6b9cc.js" as="script"><link rel="prefetch" href="/log-log-log/assets/js/10.315da3a5.js"><link rel="prefetch" href="/log-log-log/assets/js/100.63d18288.js"><link rel="prefetch" href="/log-log-log/assets/js/101.4555e990.js"><link rel="prefetch" href="/log-log-log/assets/js/102.375cd773.js"><link rel="prefetch" href="/log-log-log/assets/js/103.5c4e5390.js"><link rel="prefetch" href="/log-log-log/assets/js/104.6341bcf6.js"><link rel="prefetch" href="/log-log-log/assets/js/105.be7cbc45.js"><link rel="prefetch" href="/log-log-log/assets/js/106.9c8007c4.js"><link rel="prefetch" href="/log-log-log/assets/js/107.818517ca.js"><link rel="prefetch" href="/log-log-log/assets/js/108.20fce05b.js"><link rel="prefetch" href="/log-log-log/assets/js/109.42ff4f08.js"><link rel="prefetch" href="/log-log-log/assets/js/11.5da2d211.js"><link rel="prefetch" href="/log-log-log/assets/js/110.ca5eb1db.js"><link rel="prefetch" href="/log-log-log/assets/js/111.a3fb40f3.js"><link rel="prefetch" href="/log-log-log/assets/js/112.49bd9d35.js"><link rel="prefetch" href="/log-log-log/assets/js/113.ec3949a0.js"><link rel="prefetch" href="/log-log-log/assets/js/114.a9668a8c.js"><link rel="prefetch" href="/log-log-log/assets/js/115.b3ebf28d.js"><link rel="prefetch" href="/log-log-log/assets/js/116.49e7a869.js"><link rel="prefetch" href="/log-log-log/assets/js/117.b6ea30e4.js"><link rel="prefetch" href="/log-log-log/assets/js/118.3e635dcf.js"><link rel="prefetch" href="/log-log-log/assets/js/119.4123c29a.js"><link rel="prefetch" href="/log-log-log/assets/js/12.92a17158.js"><link rel="prefetch" href="/log-log-log/assets/js/120.5a29bdc7.js"><link rel="prefetch" href="/log-log-log/assets/js/121.67fb8738.js"><link rel="prefetch" href="/log-log-log/assets/js/122.f8559f53.js"><link rel="prefetch" href="/log-log-log/assets/js/123.b45413de.js"><link rel="prefetch" href="/log-log-log/assets/js/124.97ce1044.js"><link rel="prefetch" href="/log-log-log/assets/js/125.1fdb31a1.js"><link rel="prefetch" href="/log-log-log/assets/js/126.2b20d381.js"><link rel="prefetch" href="/log-log-log/assets/js/127.67b7bebc.js"><link rel="prefetch" href="/log-log-log/assets/js/128.c96df89c.js"><link rel="prefetch" href="/log-log-log/assets/js/129.10f796ab.js"><link rel="prefetch" href="/log-log-log/assets/js/13.7af75369.js"><link rel="prefetch" href="/log-log-log/assets/js/130.b9b62e74.js"><link rel="prefetch" href="/log-log-log/assets/js/131.485efeb1.js"><link rel="prefetch" href="/log-log-log/assets/js/132.982f56c3.js"><link rel="prefetch" href="/log-log-log/assets/js/133.9789014c.js"><link rel="prefetch" href="/log-log-log/assets/js/134.451c78c3.js"><link rel="prefetch" href="/log-log-log/assets/js/135.4e82197d.js"><link rel="prefetch" href="/log-log-log/assets/js/136.74339f8b.js"><link rel="prefetch" href="/log-log-log/assets/js/137.f2b3909c.js"><link rel="prefetch" href="/log-log-log/assets/js/138.c700f9dd.js"><link rel="prefetch" href="/log-log-log/assets/js/139.9f0fdbf1.js"><link rel="prefetch" href="/log-log-log/assets/js/14.e8993800.js"><link rel="prefetch" href="/log-log-log/assets/js/140.61c15652.js"><link rel="prefetch" href="/log-log-log/assets/js/141.79caa2a7.js"><link rel="prefetch" href="/log-log-log/assets/js/142.2b1ee793.js"><link rel="prefetch" href="/log-log-log/assets/js/143.28ab8013.js"><link rel="prefetch" href="/log-log-log/assets/js/144.f9e1d5c3.js"><link rel="prefetch" href="/log-log-log/assets/js/145.af15621a.js"><link rel="prefetch" href="/log-log-log/assets/js/146.a9bc7d33.js"><link rel="prefetch" href="/log-log-log/assets/js/147.cbdfe3ab.js"><link rel="prefetch" href="/log-log-log/assets/js/148.01348e75.js"><link rel="prefetch" href="/log-log-log/assets/js/149.ef1e7c4d.js"><link rel="prefetch" href="/log-log-log/assets/js/15.df21c529.js"><link rel="prefetch" href="/log-log-log/assets/js/150.4ab9de98.js"><link rel="prefetch" href="/log-log-log/assets/js/151.19b6b9f8.js"><link rel="prefetch" href="/log-log-log/assets/js/152.7667b911.js"><link rel="prefetch" href="/log-log-log/assets/js/153.d502fd85.js"><link rel="prefetch" href="/log-log-log/assets/js/154.9ace8a95.js"><link rel="prefetch" href="/log-log-log/assets/js/155.c4a41294.js"><link rel="prefetch" href="/log-log-log/assets/js/156.b885be39.js"><link rel="prefetch" href="/log-log-log/assets/js/157.717c0c91.js"><link rel="prefetch" href="/log-log-log/assets/js/158.a7c2ac52.js"><link rel="prefetch" href="/log-log-log/assets/js/159.b38d45e8.js"><link rel="prefetch" href="/log-log-log/assets/js/16.6e149805.js"><link rel="prefetch" href="/log-log-log/assets/js/160.fae275dc.js"><link rel="prefetch" href="/log-log-log/assets/js/161.4c503c0e.js"><link rel="prefetch" href="/log-log-log/assets/js/162.4a72d532.js"><link rel="prefetch" href="/log-log-log/assets/js/163.626952c1.js"><link rel="prefetch" href="/log-log-log/assets/js/164.f2fd476d.js"><link rel="prefetch" href="/log-log-log/assets/js/165.e52b5762.js"><link rel="prefetch" href="/log-log-log/assets/js/166.f693e76a.js"><link rel="prefetch" href="/log-log-log/assets/js/167.188f5af2.js"><link rel="prefetch" href="/log-log-log/assets/js/168.6d501847.js"><link rel="prefetch" href="/log-log-log/assets/js/169.778846f7.js"><link rel="prefetch" href="/log-log-log/assets/js/17.02dfd229.js"><link rel="prefetch" href="/log-log-log/assets/js/18.d00715cc.js"><link rel="prefetch" href="/log-log-log/assets/js/19.3431478a.js"><link rel="prefetch" href="/log-log-log/assets/js/20.63dec5cc.js"><link rel="prefetch" href="/log-log-log/assets/js/21.87e2ab8d.js"><link rel="prefetch" href="/log-log-log/assets/js/22.e185deca.js"><link rel="prefetch" href="/log-log-log/assets/js/23.b1ddf4f7.js"><link rel="prefetch" href="/log-log-log/assets/js/24.adf037f1.js"><link rel="prefetch" href="/log-log-log/assets/js/25.060c1240.js"><link rel="prefetch" href="/log-log-log/assets/js/26.c6fca055.js"><link rel="prefetch" href="/log-log-log/assets/js/27.b8b7d4fb.js"><link rel="prefetch" href="/log-log-log/assets/js/28.fcd7a0ce.js"><link rel="prefetch" href="/log-log-log/assets/js/29.f598e546.js"><link rel="prefetch" href="/log-log-log/assets/js/3.a79a19bf.js"><link rel="prefetch" href="/log-log-log/assets/js/30.46fecd56.js"><link rel="prefetch" href="/log-log-log/assets/js/31.0b778504.js"><link rel="prefetch" href="/log-log-log/assets/js/32.517e7c3e.js"><link rel="prefetch" href="/log-log-log/assets/js/33.83a7e615.js"><link rel="prefetch" href="/log-log-log/assets/js/34.aae6ac55.js"><link rel="prefetch" href="/log-log-log/assets/js/35.378d8ff7.js"><link rel="prefetch" href="/log-log-log/assets/js/37.53891f73.js"><link rel="prefetch" href="/log-log-log/assets/js/38.dfa1fed8.js"><link rel="prefetch" href="/log-log-log/assets/js/39.4c7f4145.js"><link rel="prefetch" href="/log-log-log/assets/js/4.25cb8050.js"><link rel="prefetch" href="/log-log-log/assets/js/40.e14b7662.js"><link rel="prefetch" href="/log-log-log/assets/js/41.c797c9d8.js"><link rel="prefetch" href="/log-log-log/assets/js/42.119c2da1.js"><link rel="prefetch" href="/log-log-log/assets/js/43.5801b7da.js"><link rel="prefetch" href="/log-log-log/assets/js/44.7d7661e9.js"><link rel="prefetch" href="/log-log-log/assets/js/45.55f0fa45.js"><link rel="prefetch" href="/log-log-log/assets/js/46.8d9a3b46.js"><link rel="prefetch" href="/log-log-log/assets/js/47.6025b67b.js"><link rel="prefetch" href="/log-log-log/assets/js/48.d2d46e6d.js"><link rel="prefetch" href="/log-log-log/assets/js/49.5e8e5b47.js"><link rel="prefetch" href="/log-log-log/assets/js/5.72426d7f.js"><link rel="prefetch" href="/log-log-log/assets/js/50.3fed4ff5.js"><link rel="prefetch" href="/log-log-log/assets/js/51.56d7ce66.js"><link rel="prefetch" href="/log-log-log/assets/js/52.60e88bf2.js"><link rel="prefetch" href="/log-log-log/assets/js/53.11b09c33.js"><link rel="prefetch" href="/log-log-log/assets/js/54.9352c2d8.js"><link rel="prefetch" href="/log-log-log/assets/js/55.6821e8d1.js"><link rel="prefetch" href="/log-log-log/assets/js/56.981e7deb.js"><link rel="prefetch" href="/log-log-log/assets/js/57.eccf6d77.js"><link rel="prefetch" href="/log-log-log/assets/js/58.90353a86.js"><link rel="prefetch" href="/log-log-log/assets/js/59.def1f8c2.js"><link rel="prefetch" href="/log-log-log/assets/js/6.65bdc4b4.js"><link rel="prefetch" href="/log-log-log/assets/js/60.780483b8.js"><link rel="prefetch" href="/log-log-log/assets/js/61.218a31aa.js"><link rel="prefetch" href="/log-log-log/assets/js/62.973d0161.js"><link rel="prefetch" href="/log-log-log/assets/js/63.32e49001.js"><link rel="prefetch" href="/log-log-log/assets/js/64.d9dead86.js"><link rel="prefetch" href="/log-log-log/assets/js/65.92b96aaa.js"><link rel="prefetch" href="/log-log-log/assets/js/66.e2a611cd.js"><link rel="prefetch" href="/log-log-log/assets/js/67.74c1f422.js"><link rel="prefetch" href="/log-log-log/assets/js/68.34b5575b.js"><link rel="prefetch" href="/log-log-log/assets/js/69.e1f032eb.js"><link rel="prefetch" href="/log-log-log/assets/js/7.77e22b98.js"><link rel="prefetch" href="/log-log-log/assets/js/70.a19decb5.js"><link rel="prefetch" href="/log-log-log/assets/js/71.34dd1adc.js"><link rel="prefetch" href="/log-log-log/assets/js/72.ff611d9a.js"><link rel="prefetch" href="/log-log-log/assets/js/73.8b68860e.js"><link rel="prefetch" href="/log-log-log/assets/js/74.4501d362.js"><link rel="prefetch" href="/log-log-log/assets/js/75.479d873e.js"><link rel="prefetch" href="/log-log-log/assets/js/76.68baf957.js"><link rel="prefetch" href="/log-log-log/assets/js/77.eee190b9.js"><link rel="prefetch" href="/log-log-log/assets/js/78.7ad151e5.js"><link rel="prefetch" href="/log-log-log/assets/js/79.5eb7c978.js"><link rel="prefetch" href="/log-log-log/assets/js/8.086a4bf2.js"><link rel="prefetch" href="/log-log-log/assets/js/80.4d91df43.js"><link rel="prefetch" href="/log-log-log/assets/js/81.1d8cb108.js"><link rel="prefetch" href="/log-log-log/assets/js/82.fe16a82b.js"><link rel="prefetch" href="/log-log-log/assets/js/83.524ffba1.js"><link rel="prefetch" href="/log-log-log/assets/js/84.7ff9fa7e.js"><link rel="prefetch" href="/log-log-log/assets/js/85.5a77a85c.js"><link rel="prefetch" href="/log-log-log/assets/js/86.8c06f870.js"><link rel="prefetch" href="/log-log-log/assets/js/87.15f7710c.js"><link rel="prefetch" href="/log-log-log/assets/js/88.d38947e1.js"><link rel="prefetch" href="/log-log-log/assets/js/89.b57418a8.js"><link rel="prefetch" href="/log-log-log/assets/js/9.adad0f18.js"><link rel="prefetch" href="/log-log-log/assets/js/90.bbc832fe.js"><link rel="prefetch" href="/log-log-log/assets/js/91.9fa06087.js"><link rel="prefetch" href="/log-log-log/assets/js/92.33829aa9.js"><link rel="prefetch" href="/log-log-log/assets/js/93.b1af2972.js"><link rel="prefetch" href="/log-log-log/assets/js/94.ea114343.js"><link rel="prefetch" href="/log-log-log/assets/js/95.e3b1e8c0.js"><link rel="prefetch" href="/log-log-log/assets/js/96.13245f0c.js"><link rel="prefetch" href="/log-log-log/assets/js/97.1c8c0b54.js"><link rel="prefetch" href="/log-log-log/assets/js/98.5222f8d6.js"><link rel="prefetch" href="/log-log-log/assets/js/99.bbda1245.js">
    <link rel="stylesheet" href="/log-log-log/assets/css/0.styles.ad851c91.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/log-log-log/" class="home-link router-link-active"><!----> <span class="site-name">log log log</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/limichange/log-log-log" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/limichange/log-log-log" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/log-log-log/" class="sidebar-link">log log log</a></li><li><a href="/log-log-log/questions.html" class="sidebar-link">Questions</a></li><li><a href="/log-log-log/todo.html" class="sidebar-link">todo</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Axios</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NPM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SSR</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Babel</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Books</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Browser</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/log-log-log/browser/" class="sidebar-link">questions</a></li><li><a href="/log-log-log/browser/BOM 和 DOM 的区别.html" class="sidebar-link">BOM 和 DOM 的区别</a></li><li><a href="/log-log-log/browser/DOM 事件.html" class="sidebar-link">DOM 事件</a></li><li><a href="/log-log-log/browser/cookie.html" class="sidebar-link">cookie</a></li><li><a href="/log-log-log/browser/css加载会造成阻塞吗？.html" class="sidebar-link">css 加载会造成阻塞吗？</a></li><li><a href="/log-log-log/browser/jsonp.html" class="sidebar-link">JOSNP</a></li><li><a href="/log-log-log/browser/repaint and reflow.html" class="sidebar-link">repaint and reflow</a></li><li><a href="/log-log-log/browser/viewport.html" class="sidebar-link">/browser/viewport.html</a></li><li><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html" class="active sidebar-link">在浏览器输入 URL 回车之后发生了什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#大致流程" class="sidebar-link">大致流程</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#一、url-解析" class="sidebar-link">一、URL 解析</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#二、dns-查询" class="sidebar-link">二、DNS 查询</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#三、tcp-连接" class="sidebar-link">三、TCP 连接</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#应用层：发送-http-请求" class="sidebar-link">应用层：发送 HTTP 请求</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#传输层：tcp-传输报文" class="sidebar-link">传输层：TCP 传输报文</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#网络层：ip-协议查询-mac-地址" class="sidebar-link">网络层：IP 协议查询 Mac 地址</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#链路层：以太网协议" class="sidebar-link">链路层：以太网协议</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#服务器接受请求" class="sidebar-link">服务器接受请求</a></li></ul></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#四、服务器处理请求" class="sidebar-link">四、服务器处理请求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#httpd" class="sidebar-link">HTTPD</a></li></ul></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#五、浏览器接受相应" class="sidebar-link">五、浏览器接受相应</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#六、渲染页面" class="sidebar-link">六、渲染页面</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_1-html-解析" class="sidebar-link">1 HTML 解析</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_2-css-解析" class="sidebar-link">2 CSS 解析</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_3-渲染树" class="sidebar-link">3 渲染树</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_4-布局与绘制" class="sidebar-link">4 布局与绘制</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_5-合并渲染层" class="sidebar-link">5 合并渲染层</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_6-回流与重绘" class="sidebar-link">6 回流与重绘</a></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#_7-javascript-编译执行" class="sidebar-link">7 JavaScript 编译执行</a></li></ul></li><li class="sidebar-sub-header"><a href="/log-log-log/browser/在浏览器输入 URL 回车之后发生了什么.html#links" class="sidebar-link">links</a></li></ul></li><li><a href="/log-log-log/browser/浏览器渲染原理.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/log-log-log/browser/浏览器缓存策略.html" class="sidebar-link">浏览器缓存策略</a></li><li><a href="/log-log-log/browser/跨域.html" class="sidebar-link">跨域</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Concept</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Electron</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Express</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Graphql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Gulp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Koa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Leetcode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Markdown</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Others</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Scss</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Secure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tool</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vuex</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Website</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="在浏览器输入-url-回车之后发生了什么"><a href="#在浏览器输入-url-回车之后发生了什么" class="header-anchor">#</a> 在浏览器输入 URL 回车之后发生了什么</h1> <h2 id="大致流程"><a href="#大致流程" class="header-anchor">#</a> 大致流程</h2> <ul><li>URL 解析</li> <li>DNS 查询</li> <li>TCP 连接</li> <li>处理请求</li> <li>接受响应</li> <li>渲染页面</li></ul> <h2 id="一、url-解析"><a href="#一、url-解析" class="header-anchor">#</a> 一、URL 解析</h2> <ul><li>首先判断你输入的是一个合法的 URL 还是一个待搜索的关键词，并且根据你输入的内容进行自动完成、字符编码等操作。</li> <li>浏览器还会进行一些额外的操作，比如安全检查、访问限制（之前国产浏览器限制 996.icu）。</li></ul> <h2 id="二、dns-查询"><a href="#二、dns-查询" class="header-anchor">#</a> 二、DNS 查询</h2> <table><thead><tr><th>#</th> <th>查询流程</th> <th>解释</th></tr></thead> <tbody><tr><td>1</td> <td>浏览器缓存</td> <td>浏览器会先检查是否在缓存中，没有则调用系统库函数进行查询</td></tr> <tr><td>2</td> <td>操作系统缓存</td> <td>操作系统也有自己的 DNS 缓存，但在这之前，会向检查域名是否存在本地的 Hosts 文件里，没有则向 DNS 服务器发送查询请求</td></tr> <tr><td>3</td> <td>路由器缓存</td> <td>路由器也有自己的缓存</td></tr> <tr><td>4</td> <td>ISP DNS 缓存</td> <td>ISP DNS 就是在客户端电脑上设置的首选 DNS 服务器，它们在大多数情况下都会有缓存</td></tr> <tr><td>5</td> <td>根域名服务器查询</td> <td>在前面所有步骤没有缓存的情况下，本地 DNS 服务器会将请求转发到互联网上的根域</td></tr></tbody></table> <h2 id="三、tcp-连接"><a href="#三、tcp-连接" class="header-anchor">#</a> 三、TCP 连接</h2> <p>TCP/IP 分为四层，在发送数据时，每层都要对数据进行封装</p> <h3 id="应用层：发送-http-请求"><a href="#应用层：发送-http-请求" class="header-anchor">#</a> 应用层：发送 HTTP 请求</h3> <p>在前面的步骤我们已经得到服务器的 IP 地址，浏览器会开始构造一个 HTTP 报文，其中包括</p> <ul><li>请求报头（Request Header）：请求方法、目标地址、遵循的协议等等</li> <li>请求主体（其他参数）</li></ul> <h3 id="传输层：tcp-传输报文"><a href="#传输层：tcp-传输报文" class="header-anchor">#</a> 传输层：TCP 传输报文</h3> <p>传输层会发起一条到达服务器的 TCP 连接，为了方便传输，会对数据进行分割（以报文段为单位），并标记编号，方便服务器接受时能够准确地还原报文信息。</p> <p>在建立连接前，会先进行 TCP 三次握手。</p> <h4 id="三次握手-ヽ-ｰ-人-ｰ-ノ"><a href="#三次握手-ヽ-ｰ-人-ｰ-ノ" class="header-anchor">#</a> 三次握手 ヽ(<em>^ｰ^)人(^ｰ^</em>)ノ</h4> <p>为什么会采用三次握手，若采用二次握手可以吗？ 四次呢？</p> <p>建立连接的过程是利用客户服务器模式，假设主机 A 为客户端，主机 B 为服务器端。
采用三次握手是为了防止失效的连接请求报文段突然又传送到主机 B，因而产生错误。失效的连接请求报文段是指：主机 A 发出的连接请求没有收到主机 B 的确认，于是经过一段时间后，主机 A 又重新向主机 B 发送连接请求，且建立成功，顺序完成数据传输。考虑这样一种特殊情况，主机 A 第一次发送的连接请求并没有丢失，而是因为网络节点导致延迟达到主机 B，主机 B 以为是主机 A 又发起的新连接，于是主机 B 同意连接，并向主机 A 发回确认，但是此时主机 A 根本不会理会，主机 B 就一直在等待主机 A 发送数据，导致主机 B 的资源浪费。
采用两次握手不行，原因就是上面说的失效的连接请求的特殊情况。而在三次握手中， client 和 server 都有一个发 syn 和收 ack 的过程， 双方都是发后能收， 表明通信则准备工作 OK.
为什么不是四次握手呢？ 大家应该知道通信中著名的蓝军红军约定， 这个例子说明， 通信不可能 100%可靠， 而上面的三次握手已经做好了通信的准备工作， 再增加握手， 并不能显著提高可靠性， 而且也没有必要。</p> <h3 id="网络层：ip-协议查询-mac-地址"><a href="#网络层：ip-协议查询-mac-地址" class="header-anchor">#</a> 网络层：IP 协议查询 Mac 地址</h3> <p>将数据段打包，并加入源及目标的 IP 地址，并且负责寻找传输路线。</p> <p>判断目标地址是否与当前地址处于同一网络中，是的话直接根据 Mac 地址发送，否则使用路由表查找下一跳地址，以及使用 ARP 协议查询它的 Mac 地址。</p> <h3 id="链路层：以太网协议"><a href="#链路层：以太网协议" class="header-anchor">#</a> 链路层：以太网协议</h3> <h4 id="以太网协议"><a href="#以太网协议" class="header-anchor">#</a> 以太网协议</h4> <p>根据以太网协议将数据分为以“帧”为单位的数据包，每一帧分为两个部分：</p> <ul><li>标头：数据包的发送者、接受者、数据类型</li> <li>数据：数据包具体内容</li></ul> <h4 id="mac-地址"><a href="#mac-地址" class="header-anchor">#</a> Mac 地址</h4> <p>以太网规定了连入网络的所有设备都必须具备“网卡”接口，数据包都是从一块网卡传递到另一块网卡，网卡的地址就是 Mac 地址。每一个 Mac 地址都是独一无二的，具备了一对一的能力。</p> <h3 id="服务器接受请求"><a href="#服务器接受请求" class="header-anchor">#</a> 服务器接受请求</h3> <p>接受过程就是把以上步骤逆转过来</p> <h2 id="四、服务器处理请求"><a href="#四、服务器处理请求" class="header-anchor">#</a> 四、服务器处理请求</h2> <p>处理端口请求的数据。匹配路径。</p> <h3 id="httpd"><a href="#httpd" class="header-anchor">#</a> HTTPD</h3> <h2 id="五、浏览器接受相应"><a href="#五、浏览器接受相应" class="header-anchor">#</a> 五、浏览器接受相应</h2> <p>浏览器接收到来自服务器的响应资源后，会对资源进行分析。
首先查看 Response header，根据不同状态码做不同的事（比如上面提到的重定向）。
如果响应资源进行了压缩（比如 gzip），还需要进行解压。
然后，对响应资源做缓存。
接下来，根据响应资源里的 MIME 类型去解析响应内容（比如 HTML、Image 各有不同的解析方式）。</p> <h2 id="六、渲染页面"><a href="#六、渲染页面" class="header-anchor">#</a> 六、渲染页面</h2> <p>解析 —— HTML，CSS，JS
渲染 —— 构建 DOM 树 -&gt; 渲染 -&gt; 布局 -&gt; 绘制</p> <h3 id="_1-html-解析"><a href="#_1-html-解析" class="header-anchor">#</a> 1 HTML 解析</h3> <table><thead><tr><th>过程</th> <th>详解</th></tr></thead> <tbody><tr><td>解码（encoding）</td> <td>传输回来的其实都是一些二进制字节数据，浏览器需要根据文件指定编码（例如 UTF-8）转换成字符串，也就是 HTML 代码。</td></tr> <tr><td>预解析（pre-parsing）</td> <td>预解析做的事情是提前加载资源，减少处理时间，它会识别一些会请求资源的属性，比如 img 标签的 src 属性，并将这个请求加到请求队列中。</td></tr> <tr><td>符号化（Tokenization）</td> <td>符号化是词法分析的过程，将输入解析成符号，HTML 符号包括，开始标签、结束标签、属性名和属性值。它通过一个状态机去识别符号的状态，比如遇到&lt;，&gt;状态都会产生变化。</td></tr> <tr><td>构建树（tree construction）</td> <td>符号化和构建树是并行操作的，也就是说只要解析到一个开始标签，就会创建一个 DOM 节点。</td></tr></tbody></table> <p>当整个解析的过程完成以后，浏览器会通过 DOMContentLoaded 事件来通知 DOM 解析完成。</p> <h3 id="_2-css-解析"><a href="#_2-css-解析" class="header-anchor">#</a> 2 CSS 解析</h3> <p>一旦浏览器下载了 CSS，CSS 解析器就会处理它遇到的任何 CSS，根据语法规范解析出所有的 CSS 并进行标记化，然后我们得到一个规则表。</p> <h3 id="_3-渲染树"><a href="#_3-渲染树" class="header-anchor">#</a> 3 渲染树</h3> <p>其实这就是一个 DOM 树和 CSS 规则树合并的过程。</p> <h4 id="渲染阻塞"><a href="#渲染阻塞" class="header-anchor">#</a> 渲染阻塞</h4> <ul><li>CSS 会阻塞 JS 执行</li> <li>JS 会阻塞后面的 DOM 解析</li></ul> <h4 id="计算"><a href="#计算" class="header-anchor">#</a> 计算</h4> <ul><li>通过计算让任何尺寸值都减少到三个可能之一：auto、百分比、px，比如把 rem 转化为 px。</li></ul> <h3 id="_4-布局与绘制"><a href="#_4-布局与绘制" class="header-anchor">#</a> 4 布局与绘制</h3> <p>确定渲染树种所有节点的几何属性，比如：位置、大小等等，最后输入一个盒子模型，它能精准地捕获到每个元素在屏幕内的准确位置与大小。
然后遍历渲染树，调用渲染器的 <code>paint()</code> 方法在屏幕上显示其内容。</p> <h3 id="_5-合并渲染层"><a href="#_5-合并渲染层" class="header-anchor">#</a> 5 合并渲染层</h3> <p>把以上绘制的所有图片合并，最终输出一张图片。</p> <h3 id="_6-回流与重绘"><a href="#_6-回流与重绘" class="header-anchor">#</a> 6 回流与重绘</h3> <h4 id="回流-reflow"><a href="#回流-reflow" class="header-anchor">#</a> 回流(reflow)</h4> <p>当浏览器发现某个部分发现变化影响了布局时，需要倒回去重新渲染，会从 html 标签开始递归往下，重新计算位置和大小。</p> <p>reflow 基本是无法避免的，因为当你滑动一下鼠标、resize 窗口，页面就会产生变化。</p> <h4 id="重绘-repaint"><a href="#重绘-repaint" class="header-anchor">#</a> 重绘(repaint)</h4> <p>改变了某个元素的背景色、文字颜色等等不会影响周围元素的位置变化时，就会发生重绘。</p> <p>每次重绘后，浏览器还需要合并渲染层并输出到屏幕上。</p> <p>回流的成本要比重绘高很多，所以我们应该尽量避免产生回流。</p> <p><code>display:none 会触发回流，而 visibility:hidden 只会触发重绘。</code></p> <h3 id="_7-javascript-编译执行"><a href="#_7-javascript-编译执行" class="header-anchor">#</a> 7 JavaScript 编译执行</h3> <h4 id="词法分析"><a href="#词法分析" class="header-anchor">#</a> 词法分析</h4> <p>JS 脚本加载完毕后，会首先进入语法分析阶段，它首先会分析代码块的语法是否正确，不正确则抛出“语法错误”，停止执行。</p> <h4 id="预编译"><a href="#预编译" class="header-anchor">#</a> 预编译</h4> <p>JS 有三种运行环境：</p> <ul><li>全局环境</li> <li>函数环境</li> <li>eval</li></ul> <p>每进入一个不同的运行环境都会创建一个对应的执行上下文，根据不同的上下文环境，形成一个函数调用栈，栈底永远是全局执行上下文，栈顶则永远是当前执行上下文。
创建执行上下文的过程中，主要做了以下三件事：</p> <ul><li>创建变量对象
<ul><li>参数、函数、变量</li></ul></li> <li>建立作用域链
<ul><li>确认当前执行环境是否能访问变量</li></ul></li> <li>确定 This 指向</li></ul> <h4 id="执行"><a href="#执行" class="header-anchor">#</a> 执行</h4> <ul><li>JS 引擎线程：也叫 JS 内核，负责解析执行 JS 脚本程序的主线程，例如 V8 引擎</li> <li>事件触发线程：属于浏览器内核线程，主要用于控制事件，例如鼠标、键盘等，当事件被触发时，就会把事件的处理函数推进事件队列，等待 JS 引擎线程执行</li> <li>定时器触发线程：主要控制 setInterval 和 setTimeout，用来计时，计时完毕后，则把定时器的处理函数推进事件队列中，等待 JS 引擎线程。</li> <li>HTTP 异步请求线程：通过 XMLHttpRequest 连接后，通过浏览器新开的一个线程，监控 readyState 状态变更时，如果设置了该状态的回调函数，则将该状态的处理函数推进事件队列中，等待 JS 引擎线程执行。</li></ul> <h2 id="links"><a href="#links" class="header-anchor">#</a> links</h2> <ul><li><a href="https://juejin.im/post/5d5e795ff265da03e275f29e" target="_blank" rel="noopener noreferrer">在浏览器输入 URL 回车之后发生了什么<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://segmentfault.com/a/1190000006879700" target="_blank" rel="noopener noreferrer">前端经典面试题: 从输入 URL 到页面加载发生了什么？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/skyline75489/what-happens-when-zh_CN" target="_blank" rel="noopener noreferrer">What-happens-when 的中文翻译<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://zhuanlan.zhihu.com/p/43369093" target="_blank" rel="noopener noreferrer">浏览器输入 URL 后发生了什么？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/limichange/log-log-log/edit/master/docs/browser/在浏览器输入 URL 回车之后发生了什么.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">3/2/2020, 3:10:32 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/log-log-log/browser/viewport.html" class="prev">/browser/viewport.html</a></span> <span class="next"><a href="/log-log-log/browser/浏览器渲染原理.html">浏览器渲染原理</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/log-log-log/assets/js/app.d06a2ac5.js" defer></script><script src="/log-log-log/assets/js/2.e2281415.js" defer></script><script src="/log-log-log/assets/js/36.94e6b9cc.js" defer></script>
  </body>
</html>
